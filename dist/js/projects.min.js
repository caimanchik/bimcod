(()=>{"use strict";const e=document.querySelector("#more"),t=document.querySelector("#projects");let c=1,n=!0;async function o(c){let{part:o,projects:s,loader:r}=function(){const e=document.createElement("ul");e.classList.add("projects-projects__part");const t=[];for(let c=0;c<6;++c){const c=document.createElement("li");c.classList.add("projects-projects__project","projects-project");const n=document.createElement("div");n.classList.add("projects-project__wrapper"),c.appendChild(n),e.appendChild(c),t.push(n)}const c=document.createElement("div");c.classList.add("projects-projects__loader");const n=document.createElement("img");return n.src="img/icons/loader.svg",c.appendChild(n),e.appendChild(c),{part:e,projects:t,loader:c}}();t.appendChild(o);const a=await async function(e){return t=e=>e.map((e=>({title:e.title,preview:e.preview,link:`project.html?id=${e.id}`}))),fetch(`http://127.0.0.1:8000/api/v1/projectsList?page=${e}`,{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json())).then(t);var t}(c);n=!1;const d=[],p=[];a.forEach(((e,t)=>{const[c,n]=function(e){const t=document.createElement("a");t.href=e.link,t.classList.add("projects-project__content");const c=document.createElement("h2");c.textContent=e.title,c.classList.add("projects-project__title");const n=document.createElement("span");n.classList.add("projects-project__img");const o=document.createElement("img");return o.src=e.preview,n.appendChild(o),t.appendChild(c),t.appendChild(n),[t,o]}(e);p.push(new Promise((e=>{n.onload=()=>e()}))),d.push(c),s[t].appendChild(c)})),Promise.all(p).then((()=>{r.classList.add("hidden"),setTimeout((()=>{d.forEach((e=>{e.classList.add("visible")}))}),100),a.length<6&&(e.remove(),function(e,t){Array.from(e.childNodes).forEach(((e,c)=>{c<t||e.remove()}))}(o,a.length))}))}o(c),e.addEventListener("click",(()=>{n||o(++c)}))})();