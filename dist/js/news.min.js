(()=>{"use strict";let e=1,t=!0;const n=document.querySelector("#more"),o=document.querySelector("#news-container"),c=document.querySelector("#news-item").content.firstElementChild,s=document.querySelector("#loader-temp").content.firstElementChild;async function r(){await async function(e){t=!0;const c=s.cloneNode(!0);o.append(c);const r=Array(2).fill(a).map((e=>e(o)));r[1].classList.add("reverse");const l=await async function(e){return fetch(`https://bimcod.pythonanywhere.com/api/v1/newsList?page=${e}`,{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json())).then((e=>new Promise((t=>setTimeout((()=>t(e)),1e3))))).then(undefined)}(e),d=[];l.forEach(((e,t)=>{const n=r[t].querySelector("#news-image"),o=document.createElement("img");d.push(new Promise((e=>{o.onload=()=>e()}))),Promise.all(d).then((()=>{i(c),r.forEach((e=>e.classList.add("visible")))})),o.src=e.url,n.append(o),r[t].querySelector("#news-title").textContent=e.title,r[t].querySelector("#news-text").textContent=e.description})),r.length>l.length&&(function(e,t){e.forEach(((e,n)=>{n<t||e.remove()}))}(r,l.length),n.remove(),r[0].classList.add("visible"),i(c))}(e),e++,t=!1}function i(e){e.classList.add("hidden"),setTimeout((()=>{e.remove()}),400)}function a(e){const t=c.cloneNode(!0);return e.append(t),t}n.addEventListener("click",(()=>{t||r()})),r()})();