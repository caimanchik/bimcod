(()=>{"use strict";let e=1,t=!0;const n=document.querySelector("#more"),o=document.querySelector("#news-container"),c=document.querySelector("#news-item").content.firstElementChild,r=document.querySelector("#loader-temp").content.firstElementChild;async function s(){await async function(e){t=!0;const c=r.cloneNode(!0);o.append(c);const s=Array(2).fill(i).map((e=>e(o)));s[1].classList.add("reverse");const a=await async function(e){return fetch(`https://bimcod.pythonanywhere.com/api/v1/newsList?page=${e}`,{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8"}}).then((e=>e.json())).then((e=>new Promise((t=>setTimeout((()=>t(e)),1e3))))).then(undefined)}(e),l=[];a.forEach(((e,t)=>{const n=s[t].querySelector("#news-image"),o=document.createElement("img");l.push(new Promise((e=>{o.onload=()=>e()}))),Promise.all(l).then((()=>{!function(e){e.classList.add("hidden"),setTimeout((()=>{e.remove()}),400)}(c),s.forEach((e=>e.classList.add("visible")))})),o.src=e.url,n.append(o),s[t].querySelector("#news-title").textContent=e.title,s[t].querySelector("#news-text").textContent=e.description})),s.length>a.length&&(function(e,t){e.forEach(((e,n)=>{n<t||e.remove()}))}(s,a.length),n.remove())}(e),e++,t=!1}function i(e){const t=c.cloneNode(!0);return e.append(t),t}n.addEventListener("click",(()=>{t||s()})),s()})();